from urllib.request import urlopen, Request
from bs4 import BeautifulSoup
# % python3 -m pip install bs4

#the url is https://finviz.com/quote.ashx?t=AMZN * * *  ,  t = [ticker]
#we only need https://finviz.com/quote.ashx?t=  and we can add the ticker to the url

finviz_url = "https://finviz.com/quote.ashx?t="
tickers = ['NVDA', 'MSFT','AMZN'	,'META','GOOGL', 'TSLA']


#iterate over tickers and create finziv url to parse

for ticker in tickers:
    url = finviz_url + ticker
    
    #now request data from the url

    req = Request(url = url, headers = {"user-agent":"app"})  #if user agent not specified, forbidden from accessing data
                                                              #https://docs.python.org/3/library/urllib.request.html
                                                              #https://www.geeksforgeeks.org/python/python-urllib-module/
    response = urlopen(req)
    print(response)

    #actual html data
    html = BeautifulSoup(response,'html')

    #data snippet
    #print(str(html)[:5000])
